<?xml version="1.0"?>
<testCase version="9.1.0.202208171942">
    <general>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="132f118e-b6f3-430d-ab7b-245e736840fb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import libraries</body>
                    </command>
                    <nestedSteps>
                        <item guid="f23036c3-e0b4-44f9-a2da-8ba954e3e3a8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import json</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a9f37063-4239-4b61-851c-33ace6c897e9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import copy</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="781b1dcc-dcaa-40db-93d9-fb521c98d92e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import re</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="908d31e1-deaa-4f5c-9214-2c924888f042" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import tempfile</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="afe0a239-266c-4a85-8781-51ab994f3c6b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>from datetime import datetime</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f68ea6d-9c99-46b7-827e-4207c922ca6f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set Landslide connection data</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b3d48c4-5589-4857-bbe0-394106c5c544" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>landslide_addr = param(&apos;landslide/ls_Address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="01294533-bdbd-428f-acc0-b78eb0d55492" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_username = param(&apos;landslide/ls_SessionUser&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1702313f-2b60-462e-8b44-031f8ee71024" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_password = param(&apos;landslide/ls_SessionPass&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f0d3b71f-2f14-4154-bb40-2b05d00698ec" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;landslide/ls_libraryName&apos;).replace(&apos;/&apos;,&apos;_&apos;).replace(&apos; &apos;, &apos;&apos;).replace(&apos;{&apos;, &apos;&apos;).replace(&apos;}&apos;, &apos;&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="480d0eab-f2a7-42d8-b171-ddb60a3f23a9" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;ls_libraryName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="67391cd4-e8b8-4797-8fd1-ea0f4c5c1ecb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cbd31453-5467-47d7-812e-d85db854d335" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName = param(&apos;landslide/ls_testName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3c0519fd-b4ca-4cdb-bd77-97925bc4893a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f10dc7a-6e06-4d33-9931-0298ed9e76ef" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Start iTest Landslide Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="73978937-8926-4f51-b4f3-28ce3f1ce4ed" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_url = &quot;http://&quot; + landslide_addr + &quot;:8080/api&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50e2d3ee-dad4-496d-86ad-1297cada5202" action="open" session="s1">
                            <command>
                                <body>project://di_Landslide/session_profiles/landslide_rest.ffsp</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>success()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Start Landslide Session at: [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Can start the landslide session [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="[tas_api_url]" landslideRESTAPI.inherit="false">
                                    <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[tas_api_username]" user.inherit="false" password.masked="true" password="ay9c4wyVbDQo4KIXLFZW77RKP6sdfKIs" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="c1b328d2-03b0-4703-8a3a-e8aaaf8aa4f1" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f91e0dd4-4b49-43a7-a87b-eb6dd5dd6474" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get library id from library name</body>
                    </command>
                    <nestedSteps>
                        <item guid="7205e676-b01a-45d5-b122-400afe27ffb6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="752a1b66-d519-433a-961d-eb194f57cebf" action="ShowAllLibraries" session="s1">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">[libraryName]()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>library_id=value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>libraries</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="46fd135c-5d35-4063-95dd-fd136a76068e" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information:Library Name [libraryName] exists</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false">Library Name [libraryName] exists</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowAllLibraries" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="50bd7cbe-59b3-4830-8d32-20739f678fa2" action="RetrieveTestSession" session="s1">
                            <command>
                                <body>-library [library_id] -name [testName]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">handle()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>session_handle = value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>testHendle</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="RetrieveTestSession" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" library="[library_id]" library.inherit="false" name="[testName]" name.inherit="false"/>
                        </item>
                        <item guid="7bd46d9b-3f8f-482e-a20d-c651f8aa46c6" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Session handle [session_handle] exists</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Session handle [session_handle] exists</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d2ad477a-8cae-43f7-a356-6be0c4f796cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Server IDs from TAS to verify they exist</body>
                    </command>
                    <nestedSteps>
                        <item guid="f081c151-9a15-4d05-a78d-8de41082a46a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames = param(&apos;landslide/ls_testServers/item/TestServerName&apos;,[])</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="02b08477-dfc4-45f9-aad8-21ce4122033b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>type(testServerNames) != list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="88f95429-ff36-4ef0-99be-c5960dd6b2d4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames =[testServerNames]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2b356323-c3a2-4f36-9169-cb1fd0da43fc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6e93710-770a-4383-91c5-2d0d65edf7c0" action="ShowTestServers" session="s1">
                            <postProcessing>
                                <storeResponseAt>testServers</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowTestServers" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="af0c8410-4e68-42d7-83ae-73d66b1243d4" action="for" useFieldsInCommand="false">
                            <command>
                                <body>ts in testServerNames:</body>
                            </command>
                            <nestedSteps>
                                <item guid="97b58fdf-d854-4724-8a89-6da7d12423f9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ff1a9cfb-58c8-4520-8d8d-91e02ab3063e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury = &quot;Result/testServers//..[name=&apos;&quot;+ts+&quot;&apos;]/id&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0fe6ae14-e83a-4af4-a6c7-919f3c6005fc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9dff103d-a6e2-4c4a-ba1d-074583fbddf5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num = query(&quot;testServers&quot;, qury)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ce5b9849-25a4-4a8d-bdc3-a3619ce9016e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="11b98cc1-62ca-4add-ae21-92515ccfb14b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num == &apos;&apos;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="eccea434-5bbd-4dcd-bf3f-61eea50589c5" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fcec5478-c4b5-43a1-bae1-d83493a61305" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Fail the test</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>1 == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="56a22391-eda5-40fb-b150-20f60d53e12e" action="close" session="s1">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="82a34bf7-0e3a-4665-86e2-9bc81a764b80" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="217225a3-cd4a-416c-a4e4-38338b3bdba2" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Test server id for [ts] is [ts_num]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Test server id for [ts] is [ts_num]</message>
                                    </applicationProperties>
                                </item>
                                <item guid="5f164f12-e9ae-400f-ac62-61a66d5aef59" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_list_dict.append({&apos;tsName&apos;:ts,&apos;tsId&apos;:int(ts_num)})</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6038e31-d87c-4b3a-94f8-943ebb5e9849" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="36772f84-cdfb-48c3-be75-06e4de3eb205" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Read base config</body>
                    </command>
                    <nestedSteps>
                        <item guid="bcb5c7a4-16f0-4e7d-8326-78f691ef2e60" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tn = testName.replace(&quot; &quot;,&quot;+&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cdcc0520-6589-43d9-8d87-586074e62a29" action="get_test_session_data" session="s1" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [tn] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>test_session_json</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="24e53552-80fe-4c23-b6a0-56b67be4797e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_count = int(ts_count)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e740ee90-c16b-4abd-a7d2-3b244d3ec14b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create temp directory for csv</body>
                    </command>
                    <nestedSteps>
                        <item guid="35d256ea-9bcf-4e0a-8b7e-ac5b53fac0d8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tdir = tempfile.TemporaryDirectory()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="85ca9934-db6c-4443-9244-807df4dc9d3a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create CSV</body>
                    </command>
                    <nestedSteps>
                        <item guid="55798d34-9d08-493d-a09f-188d882330f1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseName&apos;, &apos;current&apos;)+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3b875b2d-6454-495b-9ce2-be012ada6989" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseFile&apos;, &apos;current&apos;, &apos;path&apos;)[0:-5]+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="65978001-40b8-4ec7-a666-30ff59ece90d" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="49dd45d5-5ef5-45d2-9260-d4919424808a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file =  open(tdir.name+&apos;\\\\&apos;+file_name, &apos;w&apos;, newline=&quot;\\n&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5f7d7aa6-04a0-448a-befa-e06f6b68c60b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.write(&apos;Iteration,Time,SMS Tx Rate (msg/sec),Sub Count,5G Reg Attempted,5G Reg Rejected,PDU Accepts,PDU Rejects,SIP Registrations Success,SIP Registrations Failures,SIP Registrations Retries,SMS Messages Sent, SMS Message Sent Ack, SMS Messages Received, SMS Message Received Ack\\n&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fa212b7-0f3e-404e-a41f-78732598b949" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Begin looping through rates and count</body>
                    </command>
                    <nestedSteps>
                        <item guid="a27bbf12-5d2d-4fe3-9729-cd8df53d7ae7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>iterations = param(&apos;RateList&apos;).split(&apos;,&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c4182a0a-60ae-419c-b5ef-de50bb340609" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Beginning SIP registration test with [len(iterations)] iterations</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Beginning SIP registration test with [len(iterations)] iterations</message>
                            </applicationProperties>
                        </item>
                        <item guid="165e5175-4113-40d4-91de-f9bc69ffbb46" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getParameterGroupDict(param_path=&quot;global_overwrite_params&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>global_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e3cea927-7441-4b0a-bb97-2ae15670a904" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getParameterGroupDict(param_path=&quot;landslide/ls_testServers&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>testserver_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="77be0985-8371-48d5-a563-a06080b31afc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>global_param_dic</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1083939c-ab8e-47e3-96ac-c01e2abe75f9" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get runtime &amp; timeout</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="95f0a5e7-a0eb-4c91-aea6-c007121f6d8e" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get the count on each test case get param SubCount or global/Sessions</body>
                            </command>
                            <nestedSteps>
                                <item guid="d2b9c79e-8d4b-4b2c-9be1-a0be76822320" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>sub_count = int(param(&apos;SubCount&apos;,param(&apos;global_overwrite_params/Sessions&apos;))/2)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d95601a4-9cbc-47c3-84fe-bd599ede469e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>sub_count</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="75527a73-a935-4b4f-8ec9-44658a31c96d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, len(iterations)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="322e1619-28b1-4790-b72c-1f9e147d87ff" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>test_session_dic = json.loads(test_session_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="438c043f-0836-4320-8081-8f4b4b0a738c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>rate = int(iterations[i])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b1837f2-bf49-4ed7-b821-629236164673" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information:Iteration [i+1] with SMS rate [rate]/sec</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false">Iteration [i+1] with SMS rate [rate]/sec</message>
                                    </applicationProperties>
                                </item>
                                <item guid="f409c744-f4ab-4300-ba6f-a8ebc565bda3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update Test Server ID </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="dafe356d-8ad2-4432-ad0c-00ec231b7c53" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;tsId&quot;] = ts_list_dict[0][&quot;tsId&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d0ac680a-1d39-4338-8b74-62ee973e8159" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Set the count on each test case get param SubCount or global/Sessions</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="17bf666e-14a6-4835-95fc-642d71260df1" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>global_param_dic[&apos;global_overwrite_params&apos;][&apos;Sessions&apos;] = sub_count</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4fe925e7-c48c-4608-a34e-9480dcdcad93" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Global parameter replacing with dictionary parameters not all settings will be correct yet</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a571a130-2744-420f-b88e-9c33920f139e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="68602b24-2b88-432c-912b-4d57a19653a6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3fdf16e6-ac68-4add-b421-5e0c7fc37f82" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e8503066-5bf3-4781-ad74-0dfeefa3a1df" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure runtime and get timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6bb0e277-8b12-40f8-a8ce-9ef4d19b4cc2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>runtime = param(&apos;RunTime&apos;)+int(float(param(&apos;SubCount&apos;,param(&apos;global_overwrite_params/Sessions&apos;)))/rate) +45</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="762e1a81-a878-4e44-b290-83f688887a1a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>runtime</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2231e2fc-893b-4842-bbdb-667fb719be73" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>timeout = int(runtime*param(&apos;landslide/timeout_multiplier&apos;,2)+param(&apos;WaitTime&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="de4b43bd-7664-42bf-94b1-54508ca62a93" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>timeout</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="611f2b63-20be-411d-b4c6-901b124390dd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;steps&quot;][4][&quot;delaySec&quot;] = runtime</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2f8d2acf-587c-43c0-aacb-4cf61b0ab34c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;steps&quot;][5][&quot;delaySec&quot;] = param(&apos;WaitTime&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ad80d488-91a7-4367-ade7-eca9982f8bb8" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Inserting Test Server Parameters some of these will be over written</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="be9d24e2-be47-462b-abdb-c7b9811ca7d1" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(copy.deepcopy(testserver_param_dic[&apos;ls_testServers&apos;][0][&quot;parameters&quot;]))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="eba31414-391f-4374-82df-e29cc5a66e43" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;].update(copy.deepcopy(testserver_param_dic[&apos;ls_testServers&apos;][0][&quot;parameters&quot;]))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4ab10d1b-9012-46ed-8fc5-4e17e19f1fd8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c0120cd2-c25f-4fb5-b55a-f411beb08d19" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure items in MO - TC 0</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="89216846-d998-43e1-9555-23306fe0a4a1" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>number of message = (rate*run_time)/sub_count</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="76a53746-27b2-468d-b64d-ca2504adf69f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>count = int((rate*param(&apos;RunTime&apos;)/sub_count))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d3ecb7e0-f01e-4b3e-a7cb-3e199b1f74d7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>count</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>int(value) &gt; 255</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                    <message>Can&apos;t apply this rate as the count of SMS messages per UE is over 255 (please add more UEs or a shorter run time)</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="FailTest">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c0570838-5096-4f96-ac90-dbc4890f4ead" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeSmsNumMsg&quot;]=count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5c747178-47de-4b06-8bcf-e5611b56dea6" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>SMS message interval in ms = 1000*(sub_count/rate)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="456805f5-523f-4d64-9f87-0f8030444e32" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeSmsMsgInterval&quot;]=int(1000*(float(sub_count)/rate))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="19c7d37a-5733-4c09-a58b-bb12123e6534" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Src/Dest SIP</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="25b98b0b-8417-43cd-bd82-b5a7c4efa323" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=\\+)\\w+(?=#)&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c0bbd35a-2065-465a-8adf-dc776260d9a4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_start = re.search(pattern, param(&apos;global_overwrite_params/ImsSipSubsPublicUserName&apos;)).group(0)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8d28593f-d7b4-4880-8f1b-f768e3f7e51f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_start</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a09c7647-de7b-45fa-a583-a86e823de648" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=#\\(N)\\d+(?=:\\d+\\))&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="45c0b36e-c7ed-4a7e-ae54-6cf51f4f0f9c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_end = re.search(pattern, param(&apos;global_overwrite_params/ImsSipSubsPublicUserName&apos;)).group(0)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="507b4309-4a42-4dae-9dfe-5f62f169194f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_end</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="beb70063-309d-465f-86ba-ee23a0a63192" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&apos;UeSmsOrigAddrNum&apos;] = phone_start+phone_end</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a03145b4-d6c7-4dc6-9b04-d23476fe2bc9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&apos;UeSmsRecipAddrNum&apos;] = phone_start+str(int(phone_end) +sub_count)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7b3d880c-8ab3-407b-9160-789aeb13b38d" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Sip Reg Rate (trying rate/2 to see if this will make it so we don&apos;t get failures at the beginning)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="53cd8eb7-003b-41bb-bb55-338a06af00dd" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&apos;UeRegRate&apos;] = int(rate/2)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5e35f5bd-c6fd-433c-889c-45900e426dec" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b1828928-22dd-436b-92a5-c28bd7193e3c" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure items in MT - TC 1 that require incementing</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f0a614fe-a128-4d49-8c5e-7ca8e206036e" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>SUPI</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="28c64095-9de4-48d8-9991-01a64f1c1eb5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;UeNas5gMmSupi&apos;] = int(param(&apos;global_overwrite_params/UeNas5gMmSupi&apos;))+sub_count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="09a53b05-ca8b-49f1-b793-882781943d90" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Phone numbers</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="84a72b80-a3aa-4331-85db-6f5cbe5c7ec8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=#\\(N)\\d+(?=:\\d+\\))&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="cd2cb14b-3e0a-4520-86cf-fe2e4d0f3895" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>old_val = int(re.search(pattern, param(&apos;global_overwrite_params/ImsSipSubsPublicUserName&apos;)).group(0))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8967dff4-2e09-4d78-accb-566039c84bc1" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_val = old_val +sub_count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9f3807bd-838b-44f3-969a-96b4d8623bd4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsPublicUserName&apos;] = test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&apos;ImsSipSubsPublicUserName&apos;].replace(str(old_val),str(new_val))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1e71fc73-f359-4e56-a8f8-b7f75624a1ba" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsPrivateUserName&apos;] = test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&apos;ImsSipSubsPrivateUserName&apos;].replace(str(old_val),str(new_val))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="26da903e-949f-4e24-82ab-f56b2cea7f98" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>SIP_IMSI</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="c81f55ab-5319-4656-87f1-1d877b0f23a2" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=#\\(N)\\d+(?=:\\d+\\))&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="56f3b0a3-38aa-4648-ae8b-dacf8bdda9be" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>old_val = int(re.search(pattern, param(&apos;global_overwrite_params/ImsSipSubsImsi&apos;)).group(0))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2e13c312-ee4a-4a30-9261-63066d6729dc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>old_val</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ea1edd82-d648-457b-b08c-1a22854e258f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>sub_count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="777e763d-3949-414b-9083-0f52b800448a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_val = old_val +sub_count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d6406f07-1001-4665-952d-d50fa349a2dc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_val</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c0a389af-53f3-47fb-b6c5-ec92afad71b3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsImsi&apos;] = test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsImsi&apos;].replace(str(old_val),str(new_val))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9b461b94-b5a3-4837-aa98-309026eab1bf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(test_session_dic)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="471534d1-5a32-48f2-b0b3-ece13b0bcdf1" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Reciepient SIP</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6731fb23-cb21-437e-b588-0c8f65582aa6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=\\+)\\w+(?=#)&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="208d9959-6e94-4cd3-91f1-09e2ae401583" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_start = re.search(pattern, test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsPublicUserName&apos;]).group(0)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="89f6fb48-85e9-408c-acf3-791f6556a287" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern =  r&apos;(?&lt;=#\\(N)\\d+(?=:\\d+\\))&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ac862204-3291-4213-82c4-436ff7aba048" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phone_end = re.search(pattern, test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;ImsSipSubsPublicUserName&apos;]).group(0)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="67c1e9a0-10c9-4784-a993-0edd132ff766" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;UeSmsRecipAddrNum&apos;] = phone_start+phone_end</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f2ea1690-f052-473a-b025-d55caa32b3e8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(test_session_dic)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a0d5c7d4-c2de-4ec0-89b4-d662d97b2ab7" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>runtime = runtime + sub_count/sip_reg_rate +const</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4928eb55-4c18-4d5a-939e-33114089efd2" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>GNB IPs and ID</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="8abd5e8a-9f64-4c02-81e4-3ee36f3de594" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/utils.fftc#incrIP(ip=param(&apos;landslide/ls_testServers/item/parameters/GnbControlAddr/ip&apos;))</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>gnb_ctr_ip_new</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6a17a1c9-b5b6-4bd4-aae0-a16d18c8d16b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;GnbControlAddr&apos;][&apos;ip&apos;]= gnb_ctr_ip_new</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="db53a27e-d72b-4941-9112-0a0c436abf93" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/utils.fftc#incrIP(ip=param(&apos;landslide/ls_testServers/item/parameters/GnbUserAddr/ip&apos;))</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>gnb_ctr_ip_new</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c555364c-7638-450f-995b-a243333dd350" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;GnbUserAddr&apos;][&apos;ip&apos;] = gnb_ctr_ip_new</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="12cb7a68-8472-49ec-b7a5-45bf6f12862f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][1][&quot;parameters&quot;][&apos;GnbId&apos;] = int(param(&apos;global_overwrite_params/GnbId&apos;)) + 100</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ef9c90d5-e9f6-4260-a813-d7cb3e81ec69" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(test_session_dic)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b5d5d65-7a49-4810-a08e-fdafe5bb6db7" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Put test session dict into JSON for upload to Landslide</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="cbc539af-2a17-49e7-b660-950b34eea33b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="37f2238c-c872-4262-ae20-964f0339aec2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>run_data = json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="801c1a1d-d040-4eee-984a-65038c01273d" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Run Test wait for complete or timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d4d7c96a-71a3-4630-a70a-fe21f01b73c8" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:-Starting Test</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">-Starting Test</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f2379a1e-87c5-4951-ba5c-0f1d673dcfaf" action="run_test_using_run_data" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -show_run_message false -show_warning false</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/runId</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_test_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f67ace33-8177-4d1a-9447-40c70875ce91" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:--Test Running, test ID = [running_test_id], SIP</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">--Test Running, test ID = [running_test_id], SIP</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="24b895a3-56db-48fc-8976-97277020cebf" action="waiting_for_test_get_expected_state" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id $running_test_id -expected_state &quot;COMPLETE&quot; -unexpected_states &quot;ERROR;COMPLETE_ERROR&quot; -time_out $timeout</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="29cc2295-5b45-4ba1-9187-2882285a208a" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:--Test [state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">--Test [state]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="be0ac30a-bffa-48e3-85d6-575554e89f40" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>state != &apos;COMPLETE&apos;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="aaffc19f-4aa1-4da5-94a0-7dd217e0a7c7" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Error:Test timed out waiting to complete.</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Error</severity>
                                                        <message inherit="false">Test timed out waiting to complete.</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="3c2e8426-1299-4c9f-8c94-9c70da5e0ba8" action="break" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8ea5099d-0202-452e-abd7-6ca01e487ff8" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get Results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce9ba1fe-eb30-4d6d-a4c5-fb8c65a9e63a" action="Custom" session="s1" skip="true">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]/measurements/favorites</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]/measurements/favorites" url.inherit="false"/>
                                        </item>
                                        <item guid="40763898-1600-480c-b318-7700c16f750a" action="ShowResults" session="s1">
                                            <command>
                                                <body>-runningTestId [running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>resultFilesList0()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>csv_url</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowResults" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_test_id]" runningTestId.inherit="false"/>
                                        </item>
                                        <item guid="8c27490b-706c-4303-86b3-4b7faabd75fb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>replace ip in url w/ IP from params.</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d30540f6-6f1a-4c9f-bfe0-b8792eb609a4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url_list = csv_url.split(&apos;/&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="81ba5b64-e50e-4ef4-ae2b-ee574274cc4a" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url_list[2] = param(&apos;landslide/ls_Address&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="65ee697d-63b9-43cd-8877-e65dffc9807e" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url = &apos;/&apos;.join(csv_url_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fe66da75-9510-4839-ba11-d67d4fe1196b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8433724f-f324-479c-acb5-e24997afc49f" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>download csv, convert to json and load it into dictionary</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="7d182d9e-bd3f-47cf-a550-0ed30705204d" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#download_landslide_files_by_pattern_to_temp_dir(file_pattern=&apos;csv&apos;, results_url_list=[csv_url])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>file_list</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="cecb3e25-e7aa-4d2b-8cc6-c63a16c7ab17" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#get_csv_tables_to_json(csv_file=file_list[0])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>json_file</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="bb5c325f-57fb-401d-b6fb-99d2b9e55680" action="readFile">
                                                    <command>
                                                        <body>file:/[json_file]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>csv_json</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                                </item>
                                                <item guid="3010c9bb-fc9c-447e-a43d-2d47718e76f8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>results_dict = json.loads(csv_json)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c220e3b7-2558-4f4c-81ed-e2ad97d050d1" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get MM/SM reg counts from CSV </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="c346c9d3-f08c-4fbd-a536-f073ee121aa6" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;MM&apos;, item_list=[&apos;Registration Completes&apos;,&apos;Registration Rejects&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>mm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="068aa7a8-e9fc-4296-94e8-f5707ca111db" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;SM&apos;, item_list=[&apos;Pdu Establishment Accepts&apos;,&apos;Pdu Establishment Rejects&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>sm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2c3b0016-1fba-478f-8531-4c535aeebd37" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>convert floats to int</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="59e9473d-4bbb-43eb-b770-f1fe1afa5d4b" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;Registration Completes&apos;,&apos;Registration Rejects&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="06688cb9-beca-491e-b5a0-344474f6cc33" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mm_dict[item] = int(float(mm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="aa2e4d56-aea8-481e-9e69-69ca1d97dbde" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;Pdu Establishment Accepts&apos;,&apos;Pdu Establishment Rejects&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="16b2fa3f-9f26-433b-967f-01e43526a345" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>sm_dict[item] = int(float(sm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b8e12752-77ea-4030-9217-4de0955a1958" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(mm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a6be7b09-13e1-4da3-9654-6ac47bd49a07" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(sm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="0b6d9407-6862-463f-8c97-7d130f128689" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get SIP reg counts from CSV </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1e6c88d2-4220-4138-bb17-6e9294780ba2" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;Gm|Main&apos;, item_list=[&apos;SIP Registration Setup Count&apos;,&apos;SIP Registration Failures&apos;,&apos;SIP Registration Retries&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>gm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f0422bde-4ffe-499c-94ec-6882cf6b9367" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;Gm|SMS&apos;, item_list=[&apos;RP-MO-DATA Packets Sent&apos;,&apos;RP-ACK Packets Rcvd&apos;,&apos;RP-MT-DATA Packets Rcvd&apos;,&apos;RP-ACK Packets Sent&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>sms_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="17dea33b-f918-4402-be17-0878e7b3c1d5" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>convert floats to int</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="91b16803-a074-4f41-a2b3-fe48bb708a06" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;SIP Registration Setup Count&apos;,&apos;SIP Registration Failures&apos;,&apos;SIP Registration Retries&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="cc1befb2-54fe-440e-a0c7-a0a195f83630" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>gm_dict[item] = int(float(gm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1d8c323e-c822-4cbb-b9d2-6f102670933a" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;RP-MO-DATA Packets Sent&apos;,&apos;RP-ACK Packets Rcvd&apos;,&apos;RP-MT-DATA Packets Rcvd&apos;,&apos;RP-ACK Packets Sent&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="177cdd45-cbc8-4404-8a0d-da482246e515" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>sms_dict[item] = int(float(sms_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a832b399-be99-406a-92f0-08e3adafba7e" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(gm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="7c50cd78-2cb9-4265-a9e5-3ab766d10b5b" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(sms_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="047538a9-863a-4957-955c-98c26e7b2060" action="comment" skip="true" useFieldsInCommand="false">
                                            <command>
                                                <body>clean favorites to make them useful</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4dde1450-d41d-4e6a-a993-abe244e76eef" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>favorites_dict_dum =  json.loads(favorites_measurements)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="598739aa-cbd4-46ae-9f98-9e14bddc72b3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>favorites_dict = {}</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="32544cef-5042-4606-abeb-06b85d74920e" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>d in favorites_dict_dum[&apos;favorites&apos;]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="79c509c1-4340-42f5-b331-ef7c9530c139" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>key = list(d.keys())[0]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="720abe2a-87a9-41d5-b700-3d2fd629a7a9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>favorites_dict[key] = int(d[key])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d653e5b3-9bc4-428c-8864-05bdf7ce5163" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Output Results</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="2cf9b5d6-df55-4613-a6a1-29ce463e692a" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Output text</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e5a8d79e-9f09-4b7a-ba4f-02d56508696c" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sms_dict[&apos;RP-MO-DATA Packets Sent&apos;] == 0:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e0ef8071-bb5d-4995-a00a-b94c183795f8" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>pct_good = 0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="ad7b3b6d-ee58-4584-8ab0-e05411b81197" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Error:--No messages sent</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <severity inherit="false">Error</severity>
                                                                        <message inherit="false">--No messages sent</message>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f332d1ce-0c44-47ca-ae62-35484c2f7ccf" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="ea8c95b9-3565-4492-80dc-3cf26a5dc4a0" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>pct_good=100*(sms_dict[&apos;RP-MT-DATA Packets Rcvd&apos;]/sms_dict[&apos;RP-MO-DATA Packets Sent&apos;])</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8dca2d33-a9a2-431a-8e24-b9ec1649517d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>total_reg = gm_dict[&apos;SIP Registration Setup Count&apos;]+gm_dict[&apos;SIP Registration Failures&apos;]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e03f4883-68cf-4ad6-8eaa-c5a94a604d42" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Registrations attempted = [total_reg]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--SIP Registrations attempted = [total_reg]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="0c2aa8bf-d855-4db1-9c1c-b797be7695dd" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Registrations Success = [gm_dict[&apos;SIP Registration Setup Count&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--SIP Registrations Success = [gm_dict[&apos;SIP Registration Setup Count&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="761a0696-978e-4e73-8839-00e06dc5e5c0" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Registration failures = [gm_dict[&apos;SIP Registration Failures&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--SIP Registration failures = [gm_dict[&apos;SIP Registration Failures&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="303f4a22-02b9-41ba-935c-21a044817df5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>fail_count = sms_dict[&apos;RP-MO-DATA Packets Sent&apos;]-sms_dict[&apos;RP-MT-DATA Packets Rcvd&apos;]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1e0f6b4d-f091-462c-949a-427fa57e23e1" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SMS Sucess: [pct_good]%</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SMS Sucess: [pct_good]%</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="d420c84a-591f-45fe-8034-600d4063e5da" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP SMS Sent = [sms_dict[&apos;RP-MO-DATA Packets Sent&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP SMS Sent = [sms_dict[&apos;RP-MO-DATA Packets Sent&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="8470c7d3-ba85-4d81-bbcc-367776a74318" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP SMS Received = [sms_dict[&apos;RP-MT-DATA Packets Rcvd&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP SMS Received = [sms_dict[&apos;RP-MT-DATA Packets Rcvd&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="7c1c1ada-b26e-43e9-a07b-d3b876b9c468" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP SMS Failure = [fail_count]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP SMS Failure = [fail_count]</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="758f10ce-ea66-43f3-a5fa-f47200e950c9" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph percentage</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="bc30678f-30eb-4c53-ab17-a06a3fa29850" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>float(&apos;%0.2f&apos; % pct_good)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Success" xAxisLabel="SIP SMS Rate (messages/sec)" yAxisLabel="Success Percentage" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>SIP SMS Success (Subscriber Count [param(&apos;SubCount&apos;)])</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="add04664-9be7-49f0-ab99-8acfcf234518" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph volume</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="993810e3-90ad-4be1-9293-218ae81accf0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sms_dict[&apos;RP-MO-DATA Packets Sent&apos;]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Volume" xAxisLabel="SIP SMS Rate (calls/sec)" yAxisLabel="Total SMS Messages" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>SIP SMS Volume (Subscriber Count [param(&apos;SubCount&apos;)])</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="714cabf3-4b62-40cc-a78d-23f8ee39ab20" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Write to CSV</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="045fa304-79cb-4efc-9e26-e8d5ab9258f1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist = [str(i+1),datetime.now().strftime(&apos;%Y-%m-%d %H:%M&apos;),str(rate),str(global_param_dic[&apos;global_overwrite_params&apos;][&apos;Sessions&apos;]),str(mm_dict[&apos;Registration Completes&apos;]),str(mm_dict[&apos;Registration Rejects&apos;]),str(sm_dict[&apos;Pdu Establishment Accepts&apos;]),str(sm_dict[&apos;Pdu Establishment Rejects&apos;]),str(gm_dict[&apos;SIP Registration Setup Count&apos;]),str(gm_dict[&apos;SIP Registration Failures&apos;]), str(gm_dict[&apos;SIP Registration Retries&apos;]),str(sms_dict[&apos;RP-MO-DATA Packets Sent&apos;]),str(sms_dict[&apos;RP-ACK Packets Rcvd&apos;]),str(sms_dict[&apos;RP-MT-DATA Packets Rcvd&apos;]),str(sms_dict[&apos;RP-ACK Packets Sent&apos;])]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="74afc3a9-f12d-4b58-8b9b-89175620c8db" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="6dd6ec9c-f904-4667-a393-ca5553a42271" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.write(&apos;,&apos;.join(tlist)+&apos;\\n&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ae038e93-7d96-4fa6-b0ba-9da1631b430f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.flush()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c238af86-1ed7-4437-a881-f7e0254a67b1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Delete running test</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="93fba858-0bb5-43b8-ae3a-8bc1658df5d1" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9f3811c3-eb29-4838-bd20-be5e2a8e57f7" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close csv and push to S3 bucket</body>
                    </command>
                    <nestedSteps>
                        <item guid="fc2ba42f-4852-40e8-8de5-1eea1d24e336" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.close()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8eca6d67-42d2-47b2-af20-fcf3e4bc81bb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str = tdir.name+&apos;\\\\&apos;+file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="eaed857b-229d-45ae-a566-8fd7adaa9d59" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1aaa0b39-edbc-4ed0-8ac7-da8cf043e3b1" action="open" session="cli" useFieldsInCommand="false">
                            <command>
                                <body>application:com.fnfr.svt.applications.process</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.applications.process.ProcessSessionProperties"/>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="282844a2-9d02-4763-be68-99be4004a610" action="command" session="cli">
                            <command>
                                <body>run aws s3api put-object --bucket [param(&apos;S3Bucket&apos;)] --key [param(&apos;S3Folder&apos;)+&apos;/&apos;+file_name] --body [file_dir_str]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>exit code: 0</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Uploaded CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to upload CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>response</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="94f813aa-e243-426f-b42a-bc068456741f" action="eval" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5644fef1-4dd2-4048-8942-0ecbbbc459d8" action="close" session="s1">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
