<?xml version="1.0"?>
<testCase version="9.0.4.202208111512">
    <general>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="132f118e-b6f3-430d-ab7b-245e736840fb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import libraries</body>
                    </command>
                    <nestedSteps>
                        <item guid="f23036c3-e0b4-44f9-a2da-8ba954e3e3a8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import json</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a9f37063-4239-4b61-851c-33ace6c897e9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import copy</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f68ea6d-9c99-46b7-827e-4207c922ca6f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set Landslide connection data</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b3d48c4-5589-4857-bbe0-394106c5c544" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>landslide_addr = param(&apos;ls_Address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="01294533-bdbd-428f-acc0-b78eb0d55492" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_username = param(&apos;ls_SessionUser&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1702313f-2b60-462e-8b44-031f8ee71024" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_password = param(&apos;ls_SessionPass&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f0d3b71f-2f14-4154-bb40-2b05d00698ec" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;ls_libraryName&apos;).replace(&apos;/&apos;,&apos;_&apos;).replace(&apos; &apos;, &apos;&apos;).replace(&apos;{&apos;, &apos;&apos;).replace(&apos;}&apos;, &apos;&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="480d0eab-f2a7-42d8-b171-ddb60a3f23a9" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;ls_libraryName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="67391cd4-e8b8-4797-8fd1-ea0f4c5c1ecb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cbd31453-5467-47d7-812e-d85db854d335" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName = param(&apos;ls_testName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3c0519fd-b4ca-4cdb-bd77-97925bc4893a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f10dc7a-6e06-4d33-9931-0298ed9e76ef" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Start iTest Landslide Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="73978937-8926-4f51-b4f3-28ce3f1ce4ed" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_url = &quot;http://&quot; + landslide_addr + &quot;:8080/api&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50e2d3ee-dad4-496d-86ad-1297cada5202" action="open" session="s1">
                            <command>
                                <body>project://di_Landslide/session_profiles/landslide_rest.ffsp</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>success()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Start Landslide Session at: [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Can start the landslide session [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="[tas_api_url]" landslideRESTAPI.inherit="false">
                                    <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[tas_api_username]" user.inherit="false" password.masked="true" password="ay9c4wyVbDQo4KIXLFZW77RKP6sdfKIs" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="c1b328d2-03b0-4703-8a3a-e8aaaf8aa4f1" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f91e0dd4-4b49-43a7-a87b-eb6dd5dd6474" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get library id from library name</body>
                    </command>
                    <nestedSteps>
                        <item guid="7205e676-b01a-45d5-b122-400afe27ffb6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="752a1b66-d519-433a-961d-eb194f57cebf" action="ShowAllLibraries" session="s1">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">[libraryName]()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>library_id=value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>libraries</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="46fd135c-5d35-4063-95dd-fd136a76068e" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Library Name [libraryName] exists</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Library Name [libraryName] exists</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowAllLibraries" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="50bd7cbe-59b3-4830-8d32-20739f678fa2" action="RetrieveTestSession" session="s1">
                            <command>
                                <body>-library [library_id] -name [testName]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">handle()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>session_hendle = value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>testHendle</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="RetrieveTestSession" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" library="[library_id]" library.inherit="false" name="[testName]" name.inherit="false"/>
                        </item>
                        <item guid="7bd46d9b-3f8f-482e-a20d-c651f8aa46c6" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information: Session handle [session_hendle] exists</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false"> Session handle [session_hendle] exists</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d2ad477a-8cae-43f7-a356-6be0c4f796cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Server IDs from TAS to verify they exist</body>
                    </command>
                    <nestedSteps>
                        <item guid="f081c151-9a15-4d05-a78d-8de41082a46a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames = param(&apos;ls_testServers/item/TestServerName&apos;,[])</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="02b08477-dfc4-45f9-aad8-21ce4122033b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>type(testServerNames) != list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="88f95429-ff36-4ef0-99be-c5960dd6b2d4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames =[testServerNames]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2b356323-c3a2-4f36-9169-cb1fd0da43fc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6e93710-770a-4383-91c5-2d0d65edf7c0" action="ShowTestServers" session="s1">
                            <postProcessing>
                                <storeResponseAt>testServers</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowTestServers" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="af0c8410-4e68-42d7-83ae-73d66b1243d4" action="for" useFieldsInCommand="false">
                            <command>
                                <body>ts in testServerNames:</body>
                            </command>
                            <nestedSteps>
                                <item guid="97b58fdf-d854-4724-8a89-6da7d12423f9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ff1a9cfb-58c8-4520-8d8d-91e02ab3063e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury = &quot;Result/testServers//..[name=&apos;&quot;+ts+&quot;&apos;]/id&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0fe6ae14-e83a-4af4-a6c7-919f3c6005fc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9dff103d-a6e2-4c4a-ba1d-074583fbddf5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num = query(&quot;testServers&quot;, qury)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ce5b9849-25a4-4a8d-bdc3-a3619ce9016e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="11b98cc1-62ca-4add-ae21-92515ccfb14b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num == &apos;&apos;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="eccea434-5bbd-4dcd-bf3f-61eea50589c5" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fcec5478-c4b5-43a1-bae1-d83493a61305" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Fail the test</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>1 == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="56a22391-eda5-40fb-b150-20f60d53e12e" action="close" session="s1">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="82a34bf7-0e3a-4665-86e2-9bc81a764b80" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="217225a3-cd4a-416c-a4e4-38338b3bdba2" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Test server id for [ts] is [ts_num]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Test server id for [ts] is [ts_num]</message>
                                    </applicationProperties>
                                </item>
                                <item guid="5f164f12-e9ae-400f-ac62-61a66d5aef59" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_list_dict.append({&apos;tsName&apos;:ts,&apos;tsId&apos;:int(ts_num)})</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6038e31-d87c-4b3a-94f8-943ebb5e9849" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="36772f84-cdfb-48c3-be75-06e4de3eb205" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Read base config</body>
                    </command>
                    <nestedSteps>
                        <item guid="bcb5c7a4-16f0-4e7d-8326-78f691ef2e60" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tn = testName.replace(&quot; &quot;,&quot;+&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cdcc0520-6589-43d9-8d87-586074e62a29" action="get_test_session_data" session="s1" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [tn] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>test_session_json</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="24e53552-80fe-4c23-b6a0-56b67be4797e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_count = int(ts_count)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fa212b7-0f3e-404e-a41f-78732598b949" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Begin looping through rates and count</body>
                    </command>
                    <nestedSteps>
                        <item guid="a27bbf12-5d2d-4fe3-9729-cd8df53d7ae7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>iterations = param(&apos;test_parameters/RateList&apos;).split(&apos;,&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c4182a0a-60ae-419c-b5ef-de50bb340609" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Beginning SIP registration rate iterations: [len(iterations)]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Beginning SIP registration rate iterations: [len(iterations)]</message>
                            </applicationProperties>
                        </item>
                        <item guid="165e5175-4113-40d4-91de-f9bc69ffbb46" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getParameterGroupDict(param_path=&quot;global_overwrite_params&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>global_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e3cea927-7441-4b0a-bb97-2ae15670a904" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getParameterGroupDict(param_path=&quot;ls_testServers&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>testserver_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="77be0985-8371-48d5-a563-a06080b31afc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>global_param_dic</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="34ca5a8f-9fc3-47e1-b5ba-11965d12303f" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Use the max subs varaible if present</body>
                            </command>
                            <nestedSteps>
                                <item guid="72698cf2-0b86-425d-8394-11d70e08e53f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>global_param_dic[&apos;global_overwrite_params&apos;][&apos;Sessions&apos;] = param(&apos;test_parameters/MaxSubs&apos;,global_param_dic[&apos;global_overwrite_params&apos;][&apos;Sessions&apos;])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="75527a73-a935-4b4f-8ec9-44658a31c96d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, len(iterations)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="322e1619-28b1-4790-b72c-1f9e147d87ff" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>test_session_dic = json.loads(test_session_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="438c043f-0836-4320-8081-8f4b4b0a738c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>rate = int(iterations[i])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b1837f2-bf49-4ed7-b821-629236164673" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information:Iteration [i] with SIP reg rate [rate]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false">Iteration [i] with SIP reg rate [rate]</message>
                                    </applicationProperties>
                                </item>
                                <item guid="f409c744-f4ab-4300-ba6f-a8ebc565bda3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update Test Server ID </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="dafe356d-8ad2-4432-ad0c-00ec231b7c53" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;tsId&quot;] = ts_list_dict[0][&quot;tsId&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9f8cffcb-8a93-4acd-8309-b71ff51ce98e" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure runtime</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="033fffd2-0b2f-4a6f-a943-f3cf1f4b3c1c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;steps&quot;][2][&quot;delaySec&quot;] = param(&apos;test_parameters/RunTime&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4fe925e7-c48c-4608-a34e-9480dcdcad93" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Global parameter replacing with dictionary parameters</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a571a130-2744-420f-b88e-9c33920f139e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3fdf16e6-ac68-4add-b421-5e0c7fc37f82" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="471534d1-5a32-48f2-b0b3-ece13b0bcdf1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Inserting Test Server Parameters</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e5807edb-6cc3-4a9b-94d0-269540b0d751" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(testserver_param_dic[&apos;ls_testServers&apos;][0][&quot;parameters&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f2ea1690-f052-473a-b025-d55caa32b3e8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b2aef58c-387d-4aca-bace-30c19b1d0d42" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update config with iteration rate</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9787886c-ae39-4dd6-9eaa-bc81fd5a9d4f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeRegRate&quot;]=rate</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7a9cd3a2-060f-4a19-9bb5-bf3734032d22" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b5d5d65-7a49-4810-a08e-fdafe5bb6db7" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Put test session dict into JSON for upload to Landslide</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="cbc539af-2a17-49e7-b660-950b34eea33b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="37f2238c-c872-4262-ae20-964f0339aec2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>run_data = json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="801c1a1d-d040-4eee-984a-65038c01273d" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Run Test wait for complete or timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d4d7c96a-71a3-4630-a70a-fe21f01b73c8" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Starting Test</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Starting Test</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f2379a1e-87c5-4951-ba5c-0f1d673dcfaf" action="run_test_using_run_data" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -show_run_message false -show_warning false</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/runId</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_test_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f67ace33-8177-4d1a-9447-40c70875ce91" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Test Running, test ID = [running_test_id], SIP reg runtime [[param(&apos;test_parameters/RunTime&apos;)]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Test Running, test ID = [running_test_id], SIP reg runtime [[param(&apos;test_parameters/RunTime&apos;)]]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f69e9374-b43e-4740-bac1-5b3c9c5a2e3e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>timeout = int(2.5*param(&apos;test_parameters/RunTime&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="24b895a3-56db-48fc-8976-97277020cebf" action="waiting_for_test_get_expected_state" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id $running_test_id -expected_state &quot;COMPLETE&quot; -unexpected_states &quot;ERROR;COMPLETE_ERROR&quot; -time_out $timeout</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="29cc2295-5b45-4ba1-9187-2882285a208a" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Test [state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Test [state]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8ea5099d-0202-452e-abd7-6ca01e487ff8" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get Results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce9ba1fe-eb30-4d6d-a4c5-fb8c65a9e63a" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]/measurements/favorites</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]/measurements/favorites" url.inherit="false"/>
                                        </item>
                                        <item guid="047538a9-863a-4957-955c-98c26e7b2060" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>clean favorites to make them useful</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4dde1450-d41d-4e6a-a993-abe244e76eef" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>favorites_dict_dum =  json.loads(favorites_measurements)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="598739aa-cbd4-46ae-9f98-9e14bddc72b3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>favorites_dict = {}</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="32544cef-5042-4606-abeb-06b85d74920e" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>d in favorites_dict_dum[&apos;favorites&apos;]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="79c509c1-4340-42f5-b331-ef7c9530c139" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>key = list(d.keys())[0]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="720abe2a-87a9-41d5-b700-3d2fd629a7a9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>favorites_dict[key] = float(d[key])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d653e5b3-9bc4-428c-8864-05bdf7ce5163" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Do graph</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6dd4db6c-a3d8-4410-bd54-9ddc5b75c953" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>100*(favorites_dict[&apos;Gm|Main::SIP Registration Setup Count&apos;]/(favorites_dict[&apos;Gm|Main::SIP Registration Failures&apos;]+favorites_dict[&apos;Gm|Main::SIP Registration Setup Count&apos;]))</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="chart_as_xy">
                                                                    <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingXYPropertyGroup" chartName="Success Rate Percentage" style="LINE" xAxisLabel="Rate (reg/sec)" yAxisLabel="Success (%)" yAxisMustIncludeZero="true" maxItemCount="[len(iterations)]" maxItemCount.sub="true" series="series1">
                                                                        <title>SIP Registration Success Rate</title>
                                                                        <xValue>rate</xValue>
                                                                        <yValue>value</yValue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c238af86-1ed7-4437-a881-f7e0254a67b1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Delete running test</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="93fba858-0bb5-43b8-ae3a-8bc1658df5d1" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5644fef1-4dd2-4048-8942-0ecbbbc459d8" action="close" session="s1">
                    <nestedSteps>
                        <item guid="a2849d8e-4b1e-446f-83aa-76144a682df8" action="comment" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>Report results</body>
                            </command>
                            <nestedSteps>
                                <item guid="ba04e7b1-00df-4353-8ec4-78e5b3cb6cf0" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remove_tc_pf</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4d73490c-c79e-4dcc-8194-c5714001fafe" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>res_dict in check_results_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6c23f393-743a-49a8-ac84-4916c9e31a43" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fa5b2e49-bf0b-44aa-b89c-8c59cda7abab" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>overall = &quot;PASS&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="89295a20-6428-473b-901f-8280d9fa1009" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>[d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="df80125c-467d-440a-b8c8-1c9f9a350cd8" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>criteria_dict in [d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="3a42598f-3b1b-49b4-8365-4fd445add990" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>res_dict[&apos;search&apos;] in criteria_dict[&apos;description&apos;]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="9a304ae7-cfdc-42bc-8f83-20df27f6f8b1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>criteria_dict[&apos;status&apos;]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="contains">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                <searchString>PASSED</searchString>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>value == 1</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="Eval">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                            <statement>overall = &quot;FAIL&quot;</statement>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5adaba03-2c48-40ab-924b-f8a68b267871" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.write(str(res_dict[&apos;supi&apos;])+&apos;,&apos;+res_dict[&apos;gnb_id&apos;]+&apos;,&apos;+overall+&apos;,N/A\\n&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c02597a1-2f1b-4763-9583-3a1b98f2df17" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.flush()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="getParameterGroupDict" isPublic="true">
            <steps>
                <item guid="6e026e8b-9951-4a54-abf3-3f9ea432618f" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>import copy</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8578da05-cc01-46b7-a8f5-4371865c3138" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>count = param(&apos;count(&apos;+param_path+&apos;/*)&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="19e8df32-33da-4944-9fa2-e58b53b9b5bd" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="62fc9df4-d84c-48e2-9aca-54bf072a00f3" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>return_dict = {}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="44e567f4-0ea3-4faf-ad3e-522e1213c7c1" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(1, int(count)+1):</body>
                    </command>
                    <nestedSteps>
                        <item guid="8ed1e0f0-5523-407c-a2d6-a348b420a81e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>name  = param(&apos;name(&apos;+param_path+&apos;/*[&apos;+str(i)+&apos;])&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6dbc8d1e-64da-403f-a4a7-4b65ab9687cf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>value  = param(param_path+&apos;/*[&apos;+str(i)+&apos;]&apos;)</body>
                            </command>
                            <eventHandlers>
                                <item name="OnInterpreterError">
                                    <item actionId="Eval">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                            <statement>value = [1,2]</statement>
                                        </actionProperties>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6cb607c9-7432-493d-a6cc-0a1adda0f500" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fd502044-9ea7-4352-94c6-15758f9512ae" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>value</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="efe042b8-8dca-4f45-9293-51540b67d08f" action="if" useFieldsInCommand="false">
                            <command>
                                <body>name == &apos;item&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="adabbb82-1420-42c5-bffe-9ba872462bb6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tlist = []</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5ab07003-14e2-46de-b8e1-ab09df25892a" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>j in range(1, int(count)+1):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2c5913fa-3d67-4d41-b53f-ff7c4407278a" action="call" useFieldsInCommand="false">
                                            <command>
                                                <body>getParameterGroupDict(param_path=param_path + &apos;/item[&apos; + str(j) + &apos;]&apos;, insert_parent=&apos;false&apos;)</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>ret_dict</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="652daba1-8df0-43ed-8706-6a876ed06914" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tlist.append(copy.deepcopy(ret_dict))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b45ddeba-6533-45e3-95ce-7ceb4ded7d46" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict = tlist</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="af12d7b0-b007-4003-b92f-38596d4fe5dd" action="break" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bdb2d91a-1b3c-46ba-99c7-e707f7452df9" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>type(value) == list and name != &apos;array&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="39f10333-d583-4f23-be2b-a68c32e01cc0" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>getParameterGroupDict(param_path=param_path+&apos;/&apos;+name, insert_parent=&apos;false&apos;)</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ret_dict</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1abec711-984e-49d5-aa54-482059e3d5af" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict[name] = ret_dict</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f93807b6-76e3-4757-bf2d-f910c5f14958" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="15079c13-1ca1-410f-b2b4-7dfc0d9944dc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict[name] = str(value)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7bef162a-f28c-4c65-b1d6-59e524b368f7" action="if" useFieldsInCommand="false">
                    <command>
                        <body>insert_parent == &apos;true&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="c6c5ea9b-89f2-42e0-b2b8-dc960f7fc3ca" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>rett = {param_path.split(&apos;/&apos;)[-1]: return_dict}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c50c7c26-46ea-40c8-ae20-e1aabc1da3f3" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="e1fa1a40-9666-4b5c-93e2-8bff5526cb57" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>rett = return_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d703394f-df80-402f-8a01-eed4ef288b46" action="return">
                    <command>
                        <body>[rett]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="param_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="insert_parent">
                    <description>true|false, only used for childen of lists</description>
                    <defaultValue>true</defaultValue>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>
