<?xml version="1.0"?>
<testCase version="9.1.2.202308091553">
    <general>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="777d7d8e-84f1-43d1-a720-51384b3324c2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import libraries</body>
                    </command>
                    <nestedSteps>
                        <item guid="edba5546-09da-4cd8-8690-594ab641c744" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import json</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aab8def2-f89d-46d7-ae7f-389f06d35eec" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import copy</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="80ca8c0e-e2a6-40d0-acce-b2a70022a312" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import tempfile</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b5031d7e-90b7-460a-8b55-995296d0523d" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>from datetime import datetime</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c341de77-d3af-438b-96e3-dddb74d31381" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set Landslide connection data</body>
                    </command>
                    <nestedSteps>
                        <item guid="a649465f-035a-4516-8d8f-5925378ff32f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>landslide_addr = param(&apos;landslide/ls_Address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e5335d7d-a34a-4598-b964-8675b6019c7f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_username = param(&apos;landslide/ls_SessionUser&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fecb3395-5e7b-4e58-95b5-20c08af5bf82" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_password = param(&apos;landslide/ls_SessionPass&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="db5f0e10-4936-4bad-bc8b-1c27d771b955" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;landslide/ls_libraryName&apos;).replace(&apos;/&apos;,&apos;_&apos;).replace(&apos; &apos;, &apos;&apos;).replace(&apos;{&apos;, &apos;&apos;).replace(&apos;}&apos;, &apos;&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2cf41907-68e2-45c2-8a60-84e8e76c47af" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8bcde408-e356-40d6-b8bf-d37763cdc9f6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName = param(&apos;landslide/ls_testName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="89487fc4-6efd-4f9f-82b6-3d4c7496c449" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="098cbd97-a557-4331-8a8d-78ea37aaedd4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Start iTest Landslide Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="e4d18061-da8d-4f5c-b862-f9ffb6ce96d9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_url = &quot;http://&quot; + landslide_addr + &quot;:8080/api&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2017803f-3140-4ab8-af1c-b21e098465cd" action="open" session="s1">
                            <command>
                                <body>project://di_Landslide/session_profiles/landslide_rest.ffsp</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>success()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Start Landslide Session at: [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Can start the landslide session [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="[tas_api_url]" landslideRESTAPI.inherit="false">
                                    <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[tas_api_username]" user.inherit="false" password.masked="true" password="ay9c4wyVbDQo4KIXLFZW77RKP6sdfKIs" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="9254ce1a-7c27-48a7-b9d0-6e77fbbb918b" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e7adae03-0a2f-4154-9cc8-f2c1625951a9" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get library id from library name</body>
                    </command>
                    <nestedSteps>
                        <item guid="8081b349-840d-4ab1-82b4-65bc8429c4ba" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bba45b60-490e-4e8c-8778-a2059b7d96ac" action="ShowAllLibraries" session="s1">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">[libraryName]()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>library_id=value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>Dish5GVelocityAutomation()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>boog</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>libraries</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="c634c294-5b5a-4822-bc80-59c7bfeab1bb" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Library Name [libraryName] exists</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Library Name [libraryName] exists</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowAllLibraries" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="e019f5d5-984e-4454-b2ea-8fdaacf91c61" action="RetrieveTestSession" session="s1">
                            <command>
                                <body>-library [library_id] -name [testName]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">handle()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>session_hendle = value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>testHendle</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="RetrieveTestSession" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" library="[library_id]" library.inherit="false" name="[testName]" name.inherit="false"/>
                        </item>
                        <item guid="20745914-8da6-4405-9e48-f214e2ef8f4b" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information: Session handle [session_hendle] exists</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false"> Session handle [session_hendle] exists</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2ac772e5-e0d1-4977-91c5-397824c2ffaf" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Server IDs from TAS to verify they exist</body>
                    </command>
                    <nestedSteps>
                        <item guid="fbc4ac7b-ad5a-4bd3-b8f0-9cebd5243998" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames = [] ; i = 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6075b6d4-3cef-4415-9343-411e640a96b4" action="while" useFieldsInCommand="false">
                            <command>
                                <body>True:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8de90aa6-9307-4ad3-9c48-0166f3a975c3" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames.append(param(&apos;landslide/ls_testServers/item[&apos;+str(i)+&apos;]/TestServerName&apos;))</body>
                                    </command>
                                    <eventHandlers>
                                        <item name="OnInterpreterError">
                                            <item actionId="Break">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="24708794-edf7-4f8e-be06-25f0236bff62" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>i = i + 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="da445bc1-c1ed-4f5d-99a5-d7dfb81273e7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="67c66d84-04dc-47ef-b6c9-cba128e58dbe" action="if" useFieldsInCommand="false">
                            <command>
                                <body>type(testServerNames) != list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a1ab3ca1-a166-48d6-b904-a51a07f165fe" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames =[testServerNames]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="26bc6ead-36e2-49f9-a1b7-76245d7b75ec" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0c533446-1019-4528-8e69-798e08f9fc6a" action="ShowTestServers" session="s1">
                            <postProcessing>
                                <storeResponseAt>testServers</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowTestServers" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="3c170e8d-465d-4fa8-9f08-c6600a005943" action="for" useFieldsInCommand="false">
                            <command>
                                <body>ts in testServerNames:</body>
                            </command>
                            <nestedSteps>
                                <item guid="c264e4ff-a826-4286-896b-17ba536850cf" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8378097a-5755-419d-9ee8-690cbf2eb29a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury = &quot;Result/testServers//..[name=&apos;&quot;+ts+&quot;&apos;]/id&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f33737b6-32de-4284-a81e-368390d62c81" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4a490372-7058-45e3-8179-6ee0758d4aa6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num = query(&quot;testServers&quot;, qury)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7d5a9415-7f1b-46cf-94a9-14d3cf967319" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c136a32d-5ad1-421b-9c48-8b91239f098d" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num == &apos;&apos;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="41479752-48ba-4554-bc23-39d7531e30ec" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="6229b045-6d42-4d1f-9c7b-da77556d0b9e" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Fail the test</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>1 == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5549f3a7-9cc4-4007-897c-44c8ee4ef9ff" action="close" session="s1">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ccb6422e-819a-4134-b0f3-007a6972a325" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="60da9a9c-72f4-4ce1-9d40-dc591e095d24" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Test server id for [ts] is [ts_num]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Test server id for [ts] is [ts_num]</message>
                                    </applicationProperties>
                                </item>
                                <item guid="d4b3e16e-1840-423d-ae4d-cf773cd843fc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_list_dict.append({&apos;tsName&apos;:ts,&apos;tsId&apos;:int(ts_num)})</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f3f3b353-7763-400d-a6f6-a102e56410bd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7b8c2812-0d10-4084-b353-cc69812f1867" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Read base config</body>
                    </command>
                    <nestedSteps>
                        <item guid="4615c55b-0c45-493a-acd5-2ce19c7f9771" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tn = testName.replace(&quot; &quot;,&quot;+&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="617b72b7-a8d0-48e7-838b-82eb18d428b8" action="get_test_session_data" session="s1" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [tn] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>test_session_json</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0d73e5af-2f3a-42d2-a316-ff2a52f885b8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_count = int(ts_count)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="719c421c-04cb-4139-aaa2-2410185f1da3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create temp directory for csv</body>
                    </command>
                    <nestedSteps>
                        <item guid="975af2b4-5a35-46ee-a9bf-b469733a2da1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tdir = tempfile.TemporaryDirectory()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="59d164f8-8cd2-4bb1-a6ee-7dbe150f0119" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create CSV</body>
                    </command>
                    <nestedSteps>
                        <item guid="b8a4dc40-0db6-4a11-aa3c-8e7c46448ccb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseName&apos;, &apos;current&apos;)+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1fe83705-0640-431e-ab9e-865d2e000351" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseFile&apos;, &apos;current&apos;, &apos;path&apos;)[0:-5]+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="790b6276-b252-479e-83cc-c3f60002842b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="372a8a5e-187b-4cc6-8f90-92fd4dc78396" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file =  open(tdir.name+&apos;\\\\&apos;+file_name, &apos;w&apos;, newline=&quot;\\n&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="55a3e44a-3ae7-47c6-a371-b66ffa773171" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.write(&apos;Iteration,Landslide Report,Time,Target Registration Rate (reg/sec),Subscriber Count,PDU Count,Registration Requests,Registration Accepts,Registration Completes,Registration Rejects,Pdu Establishment Request,Pdu Establishment Accepts,Pdu Establishment Rejects\\n&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ab9c344c-e549-4087-a33c-ecb6cc894468" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Update base config json with starting IP info</body>
                    </command>
                    <nestedSteps>
                        <item guid="b91d5a7c-16e5-4ae0-bcb5-cb9061e3d41c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_session_d = json.loads(test_session_json)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8c75ce7f-7626-44f5-acf5-70d0791bb1c7" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getParameterGroupDict(param_path=&apos;landslide/ls_testServers&apos;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>param_servers_dict</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="491d5d82-abea-4b84-bbc5-029612e39a97" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>param_servers_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ad634e38-d0c5-4d91-9c0a-df8289b91e3e" action="for" useFieldsInCommand="false">
                            <command>
                                <body>ts_dict in ts_list_dict:</body>
                            </command>
                            <nestedSteps>
                                <item guid="6bec2712-efce-479c-90e6-244a72bde524" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_dict[&apos;tsName&apos;]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="93a14591-38b0-452b-a4a8-7845ac61c611" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_dict[&apos;tsId&apos;]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8899ef34-f0ee-4b6b-8018-3c8cabc1529c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_d = [d for d in param_servers_dict[&apos;ls_testServers&apos;] if d[&apos;TestServerName&apos;] == ts_dict[&apos;tsName&apos;]][0]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a3f49ad3-955a-46c1-a2e2-f014a6012c1b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_d</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ec4df13a-907b-47b4-bdfe-31bda4c9ff87" action="Custom" session="s1">
                                    <command>
                                        <body>-requestMethod GET -dataType json -rawResponse true -url &quot;/testServers/[ts_dict[&apos;tsId&apos;]]&quot;</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ts_json</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="/testServers/[ts_dict[&apos;tsId&apos;]]" url.inherit="false"/>
                                </item>
                                <item guid="3f770cdf-ecf2-4fd7-b90b-dc009c23c1c4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ls_ts_dict = json.loads(ts_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="169270b6-d34f-461b-896a-5ac0e9df18cb" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>loc in [&apos;GnbControlAddr&apos;,&apos;GnbUserAddr&apos;]:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d36e4931-0203-469c-abae-8d333a7796f3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>phy = ts_d[&apos;parameters&apos;][loc][&apos;phy&apos;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7afb7475-84e8-4d70-b85f-6b3704a81e4a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>phy</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5d0b67e7-d85e-4534-b2a6-bc47c5726011" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_list_dict</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="cef99fc1-cc8e-42ed-8e74-463399839b2b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ls_ts_d = [d for d in ls_ts_dict[&apos;ethInfos&apos;] if d[&apos;name&apos;] == ts_d[&apos;parameters&apos;][loc][&apos;phy&apos;]][0]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4d9f0b52-65ca-4a08-8880-62a7f0523f1f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_dict[loc] = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f10256ec-ca94-4c66-9db0-e1e8d11f55ec" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_dict[loc][&apos;ip&apos;] = ls_ts_d[&apos;base&apos;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e7366d36-7a86-4756-9071-3ad2dbd123ef" action="eval" skip="true" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_dict[loc][&apos;mask&apos;] = ls_ts_d[&apos;mask&apos;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ad9dfcd5-4aaa-4c9b-8a95-246a3d27eb65" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ls_ts_dict[&quot;runningLicense&quot;] == &quot;AWS Virtual XXL HP&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b03e66fa-bd05-4d11-8f25-73290bcf95b9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_dict[&apos;tsMaxRate&apos;] = 3000</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9f564118-730f-4829-b211-390d80d62470" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="ef3088d6-8811-4bf5-8074-82f6d701e094" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>If running License is not XXL then use the activation rate euqal to 1000 </body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c86889d8-0660-48d8-a9fe-5878798060df" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_dict[&apos;tsMaxRate&apos;] = 1000</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e5804a0c-604e-4273-aa97-7dbddb63a231" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f2d8c041-2028-47b7-884a-93f232577549" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Begin looping through rates and count</body>
                    </command>
                    <nestedSteps>
                        <item guid="b2c4de67-99e5-45b4-801d-17cf5e54dad0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>rate_list = param(&apos;RateList&apos;).split(&apos;,&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="02121d39-9bca-46b4-ad4d-e36d92d9428f" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Beginning activation rate [len(rate_list)] iteration</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Beginning activation rate [len(rate_list)] iteration</message>
                            </applicationProperties>
                        </item>
                        <item guid="635967e8-25a6-4f12-bfce-754896c0247e" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getParameterGroupDict(param_path=&quot;global_overwrite_params&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>global_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="55384336-535e-4a40-bad0-31bd61082ef8" action="call" useFieldsInCommand="false">
                            <command>
                                <body>getParameterGroupDict(param_path=&quot;landslide/ls_testServers&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>testserver_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50403ffd-377e-4288-956f-7df2a75c9902" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>global_param_dic</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7ba39edd-5cb1-4892-9391-257b7c545c40" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ii = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1d0af7d5-6dbf-48a5-b9aa-fdf6389e27a6" action="for" useFieldsInCommand="false">
                            <command>
                                <body>rate in rate_list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="0a9bc6fa-f37b-4e5f-a885-201c0c2a531c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>test_session_dic = json.loads(test_session_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c08e3245-63b0-4b7f-847f-839aa38cc4f9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remain_count = param(&apos;MaxSubs&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8bb6ac94-e2d3-4693-b3f7-4d108c5a17b4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remain_rate = int(rate)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bb8d1284-0578-4f2b-8700-208030eac08b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>automation_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d564cbf3-dbfc-443a-a6f5-8d4d32dfeb7c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>TS_Index=0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="df99b4b7-4094-433a-a4be-64505ac06e0e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>SUPI = int(param(&apos;global_overwrite_params/UeNas5gMmSupi&apos;))</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8c2a6162-ce92-48cc-9089-2e366fb91272" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>j in range(0, len(ts_list_dict)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="95661bfc-5e89-44fa-a0b0-a098f25191ce" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Update Test Server ID </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="c2858880-f871-4edb-96a0-0483c4b7fa03" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;tsId&quot;] = ts_list_dict[j][&quot;tsId&quot;]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="95aef710-0ee5-44f5-a67d-622c49ddf720" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Global parameter replacing with dictionary parameters</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="eaf7347e-f149-4087-a6f9-7db69a9d050f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a2892cea-2341-48a1-8dc0-f6d1c18a3324" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(test_session_dic)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="913712fb-4960-4707-8b6e-2b2cb4291f60" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Set GNBID</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4885dc75-be79-45e2-bc57-fe2283d5cb0c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;GnbId&quot;]=int(test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;GnbId&quot;])+100*j</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d16826be-3ec2-4ae6-87b7-e157c74239b4" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Inserting Test Server Parameters</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="111a7682-4378-4505-82f7-cb11b2110a8f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;].update(testserver_param_dic[&apos;ls_testServers&apos;][j][&quot;parameters&quot;])</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="456ed26f-4941-4c47-a9fe-ca1d1b7022e2" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(test_session_dic)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6ed43925-4b61-4515-84ba-8c5e09381a4a" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Update config with iteration rate and count</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2fdc3732-7b64-4e4a-8f32-6a3beb31270b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_list_dict[j]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="cf709e53-d6a7-41dd-b168-e4c8dd327d1a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_list_dict[j][&quot;tsMaxRate&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="125c3273-db6c-483b-8ef5-d053069e23cf" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>remain_rate</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="37e2e730-5ec7-4680-b7e7-e3b84b095c7f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>type(remain_rate)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="38d39a57-ddfe-41aa-b620-e482790e9fec" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>remain_rate==0:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="428181d9-8c7d-4eac-95ca-5e22df86da75" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Insert automation step at begining to stop test server</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="556d78bd-5a9f-4d55-b906-11ed9d0a8ece" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>automation_list.insert(0,{&quot;delaySec&quot;: 0,&quot;predecessorState&quot;: &quot;&quot;,&quot;predecessorTcIndex&quot;: -1,&quot;predecessorTsIndex&quot;: -1,&quot;tcActivity&quot;: &quot;Stop&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c9328474-cadb-44b4-ab55-4723f19d4bff" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;Sessions&quot;]=1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ebfaf709-a62c-4c7d-9d65-9a5018c486f3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;StartRate&quot;]=1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fe8c2495-95e6-41d5-94e2-26cab0230d40" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;DefaultBearers&quot;]=1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1325ba05-0135-4924-b484-94508dd81867" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>TS_Index+=1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c2b5e02f-2d1b-475e-b8f9-7e5befd130e4" action="continue" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b99c6ab1-c05b-4f2a-b175-3dcbc46b94cb" action="elif" useFieldsInCommand="false">
                                            <command>
                                                <body>remain_rate&gt;ts_list_dict[j][&apos;tsMaxRate&apos;]:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f3115855-3710-45ab-993d-ae86abd02b54" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>this_rate = int(ts_list_dict[j][&apos;tsMaxRate&apos;])</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6d287773-ac30-47bc-a443-032f35dc88d1" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>this_rate</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="00c50c3c-69a7-41fb-ad88-652e824b786d" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>remain_rate=remain_rate-this_rate</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="5ecb6789-bec1-41f0-a6c8-d967fe7293b9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>remain_rate</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2c80a6a1-841a-4744-b472-e876b985b76f" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="c09b8009-0584-44e5-b2f6-c2cfcd9f36d8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>this_rate = remain_rate</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="eebb9283-8040-4b45-bb96-1a429b47621c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>remain_rate=0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="722f97aa-8932-4b83-b030-a6fe56ac6206" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get the count of subs as a percentage of the overall rate we are trying</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="435d1e0b-406a-4f0c-b2bd-ba414080879d" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>this_count = int((this_rate/int(rate))*int(param(&apos;MaxSubs&apos;)))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fdec094d-a171-438c-919a-ecacaf904bf9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>this_count</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1ddc1ce5-a45b-4497-9bcf-54ad0d3aa01a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;Sessions&quot;]=this_count</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b9fc9fb6-06b7-4842-945b-3d23905763ce" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;DefaultBearers&quot;]=int(param(&apos;PDUCount&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b19ed25e-7b9d-400e-ab4f-4676936f7114" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;StartRate&quot;]=this_rate</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6059634b-392b-4c54-a8a9-6ea13e99d94e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][j][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeNas5gMmSupi&quot;]=SUPI</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="616ddd13-95e8-47ba-97f0-46dc97800b03" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>SUPI+=this_count</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4d756a70-3bcf-424f-aada-ef5a3e21445d" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Insert Automation Steps</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="97948245-da09-4735-9f1c-44f5a6c0402d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>automation_list.insert(4*TS_Index,{&quot;delaySec&quot;: 0,&quot;predecessorState&quot;: &quot;STOPPED&quot;,&quot;predecessorTcIndex&quot;: 0,&quot;predecessorTsIndex&quot;: TS_Index,&quot;tcActivity&quot;: &quot;Cleanup&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="98357558-77c1-4fc7-b429-2b405a01fe11" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>TS_Index==0:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="50bfc611-cd73-4e17-89af-0a4e252736a2" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Calculate delay time  30 sec + (num subs + num subs*pdu count)/rate</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="67d6baaf-9665-4aad-8f08-48b3b5ca90e5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>delay_time = 30+int((this_count*(1+int(param(&apos;PDUCount&apos;))))/this_rate)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a8df4d99-62bf-4f33-98a8-ea3e787d8ccd" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>delay_time</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="daa47129-0305-41e4-b9f3-8e06db08f86d" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>automation_list.insert(3*TS_Index,{&quot;delaySec&quot;: str(delay_time),&quot;predecessorState&quot;: &quot;&quot;,&quot;predecessorTcIndex&quot;: -1,&quot;predecessorTsIndex&quot;: -1,&quot;tcActivity&quot;: &quot;Stop&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b7c5158a-d92b-42ba-8162-3adb2233ac91" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="d1fe4e33-845e-4e3e-a87c-cc771db6e517" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>automation_list.insert(3*TS_Index,{&quot;delaySec&quot;: 0,&quot;predecessorState&quot;: &quot;&quot;,&quot;predecessorTcIndex&quot;: -1,&quot;predecessorTsIndex&quot;: -1,&quot;tcActivity&quot;: &quot;Stop&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="cc122eca-3c70-45f6-86d8-de616ab0feeb" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>automation_list.insert(2*TS_Index,{&quot;delaySec&quot;: 0,&quot;predecessorState&quot;: &quot;&quot;,&quot;predecessorTcIndex&quot;: -1,&quot;predecessorTsIndex&quot;: -1,&quot;tcActivity&quot;: &quot;Start&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e6afbd38-27a0-4f6f-a0a3-c3e86a6a1680" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>automation_list.insert(TS_Index,{&quot;delaySec&quot;: 0,&quot;predecessorState&quot;: &quot;&quot;,&quot;predecessorTcIndex&quot;: -1,&quot;predecessorTsIndex&quot;: -1,&quot;tcActivity&quot;: &quot;Init&quot;,&quot;tcIndex&quot;: 0,&quot;tsIndex&quot;: TS_Index})</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6a4fa0cc-4914-459f-b41a-a323f5aad2b9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>TS_Index+=1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8788e8eb-ce65-4942-b15a-791fb25f6f5f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>test_session_dic[&quot;steps&quot;] = automation_list</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1ededacd-4497-4bdb-8560-760a6a529d63" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>json.dumps(test_session_dic)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fe6195de-fdc6-419d-81c2-31555cc0845c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remain_rate=0</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2003982a-cb46-4647-951e-2e1aea859567" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Put test session dict into JSON for upload to Landslide</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="25083f04-37e5-4978-889a-f494c695f02f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="188d781b-d0f3-47e5-b6f9-42fcb5a276c4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>run_data = json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ed6ced6f-0476-47bd-8ed4-9852d5905076" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Run Test wait for complete or timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f6fcfce4-6e9a-4b83-b530-58d1e29b32c6" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Starting Test</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Starting Test</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="5c84870e-9e74-4b48-80d7-3f6bc386df81" action="run_test_using_run_data" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -show_run_message false -show_warning false</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/runId</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_test_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2b46ee82-97ca-492b-b843-545be306b6ef" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Test Running, test ID = [running_test_id]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Test Running, test ID = [running_test_id]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="3fcad93e-5af9-47be-9a4e-f995d8a4b1bc" action="waiting_for_test_get_expected_state" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id $running_test_id -expected_state &quot;COMPLETE&quot; -unexpected_states &quot;ERROR;COMPLETE_ERROR&quot; -time_out 300</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="afcd1784-9ac4-442b-9c78-0a60c3f9c25c" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Test [state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Test [state]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ef57bacb-06d2-460e-b5b4-2ebf987e9311" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get Results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e56e3ac0-4473-4867-aada-52b42bb7dead" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]/measurements/favorites</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]/measurements/favorites" url.inherit="false"/>
                                        </item>
                                        <item guid="982b7586-b2b0-4830-ba76-46f7c72bf5d8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pass_fail_dict = json.loads(favorites_measurements)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="44cebffc-47eb-4444-8d42-37a230f34651" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>results_count_name = [&quot;MM::Registration Completes&quot;,&quot;MM::Registration Requests&quot;,&quot;MM::Registration Accepts&quot;,&quot;MM::Authentication Requests&quot;,&quot;MM::Authentication Responses&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d49232c8-0b94-4e86-81b2-652b07c3407d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>results_pdu_count_name = [&quot;SM::Pdu Establishment Requests&quot;,&quot;SM::Pdu Establishment Accepts&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9438f431-bb4a-4b2d-a127-d13dc1932b07" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>results_zero_name = [&quot;MM::Registration Rejects&quot;,&quot;SM::Pdu Establishment Rejects&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9f16f3c0-e8bb-427a-af54-b97694498854" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>graph_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5be59fe4-a72c-445c-a965-408e36e9fb51" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>j,res_d in enumerate(pass_fail_dict[&quot;favorites&quot;]):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9ef811ea-e75f-424c-a14f-bcbf6dd04174" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>key=list(res_d.keys())[0] </body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2f92bf85-074b-42c8-aa85-2d30d48d7b55" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>graph_dict[key] = pass_fail_dict[&quot;favorites&quot;][j][key]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="65df4729-8b25-4f8e-9248-1f8f26de7951" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>key in results_count_name:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="eccfcba2-31ba-4e11-b88c-d5a5ecfc2ab1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pass_fail_dict[&quot;favorites&quot;][j][key]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>int(value) == int(param(&apos;MaxSubs&apos;))</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>[key] expected value [param(&apos;MaxSubs&apos;)]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>[key] expected value [param(&apos;MaxSubs&apos;)] actual value [value]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1993e2d2-e75a-440b-83ac-3c96416c917a" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>key in results_pdu_count_name:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e0602f95-629b-41be-a60b-6e6acccee513" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>res = int(param(&apos;MaxSubs&apos;))* int(param(&apos;PDUCount&apos;))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f615b0c8-1828-4de3-b4ff-6ba511267957" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pass_fail_dict[&quot;favorites&quot;][j][key]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>int(value) == res</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>[key] expected value [res]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>[key] expected value [res] actual value [value]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e7090bfb-52dd-4413-ae22-b579426f0559" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>key</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="00f710ad-f0e1-4e46-abd5-d28d2ce20783" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>key in results_zero_name:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="b3e5b96d-c9f8-4f2b-b9ad-5ef3ddf1825b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pass_fail_dict[&quot;favorites&quot;][j][key]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>int(value) == 0</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>[key] expected value 0</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>[key] expected value 0 actual value [value]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2cdd9510-3922-4255-a4e3-7df28077c89c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>key</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2dd593a1-d2a6-49e4-b850-2dbb483fd89c" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Graphing</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="65e0a777-be67-4625-b24e-f22801e1a7d6" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph MM Registration %</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c53f35ee-0cfb-47df-8955-0bd970a8d0a7" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>rate</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7a44f542-3352-4014-97b7-da2860d3c6af" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>100*int(graph_dict[&quot;MM::Registration Completes&quot;])/int(param(&apos;MaxSubs&apos;))</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Pct_Success" xAxisLabel="Registration Rate (reg/sec)" yAxisLabel="Success Percentage" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>Registration Success</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="aff58aa6-dad8-49f2-9c40-28abd93b328b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>100*int(graph_dict[&quot;SM::Pdu Establishment Accepts&quot;])/int(param(&apos;MaxSubs&apos;))*int(param(&apos;PDUCount&apos;))</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Pct_PDU_Success" xAxisLabel="PDU Rate (reg/sec)" yAxisLabel="Success Percentage" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>PDU Registration Success</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ac792afe-4ffa-407a-9720-69432f5c9b8b" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Report results</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4f2460dd-6993-48eb-bdcb-967ceede9e86" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Write to CSV</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="de40a063-d1f4-4da5-94e7-398716bbb89f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>json.dumps(graph_dict)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3849c56a-e462-41df-8265-49165dae51d5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist = [str(ii+1),&apos;RID-&apos;+str(running_test_id),datetime.now().strftime(&apos;%Y-%m-%d %H:%M&apos;),str(rate),str(param(&apos;MaxSubs&apos;)),str(int(param(&apos;MaxSubs&apos;))*int(param(&apos;PDUCount&apos;))),str(graph_dict[&quot;MM::Registration Requests&quot;]),str(graph_dict[&quot;MM::Registration Accepts&quot;]),str(graph_dict[&quot;MM::Registration Completes&quot;]),str(graph_dict[&quot;MM::Registration Rejects&quot;]),str(graph_dict[&quot;SM::Pdu Establishment Requests&quot;]),str(graph_dict[&quot;SM::Pdu Establishment Accepts&quot;]),str(graph_dict[&quot;SM::Pdu Establishment Rejects&quot;])]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="48eab74d-c372-4e64-b6be-fdccb9dfbbe5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a2301f3f-0098-48fd-b43c-2d05cb24136b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.write(&apos;,&apos;.join(tlist)+&apos;\\n&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1d5257f6-27c7-456e-8954-3fd6b8102ca3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.flush()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cdccf63f-619d-4cc2-bedf-4f527973b8c6" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Delete running test</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="55a90fdf-7563-42ea-839b-e1e8b1e2adcd" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b43a8f31-7c16-4273-bdad-c6f71e53111a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ii+=1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c0b4424b-ce22-46d6-b017-b2283b015ef3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close csv and push to S3 bucket</body>
                    </command>
                    <nestedSteps>
                        <item guid="d935ceb2-5829-479b-9c0c-099c738deef5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.close()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c4f3c6ea-3bad-4d49-846b-c11be1a60f29" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str = tdir.name+&apos;\\\\&apos;+file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="dc51f71a-f070-41ff-8191-06684a10d184" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d74a6dbd-ded6-4727-8ec4-f7e0adab8744" action="open" session="cli">
                            <command>
                                <body>application:com.fnfr.svt.applications.process</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.applications.process.ProcessSessionProperties"/>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="5a69dc60-3d02-4404-b87a-d7f8741695e9" action="command" session="cli">
                            <command>
                                <body>run aws s3api put-object --bucket [param(&apos;S3Bucket&apos;)] --key [param(&apos;S3Folder&apos;)+&apos;/&apos;+file_name] --body [file_dir_str]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>exit code: 0</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Uploaded CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to upload CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>response</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="41d37708-ef8a-47a7-a3ad-535177dfb99a" action="eval" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5cfc1bba-2fa6-4397-a980-7c6bd41c91f4" action="close" session="s1">
                    <nestedSteps>
                        <item guid="8015a0c4-2aa3-4e70-8634-80eb19e22caa" action="comment" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>Report results</body>
                            </command>
                            <nestedSteps>
                                <item guid="7aa791be-a533-4098-ab2a-b4697fc2b4b7" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remove_tc_pf</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d93d9dd0-62e2-48fd-b734-afe662a63332" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>res_dict in check_results_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e857164f-c614-4998-b3a2-80ce119eb55b" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="ae58bb1e-3ada-47d1-babc-922c166490fa" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>overall = &quot;PASS&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="71294095-7dcd-4156-80d4-6364bd15a4a2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>[d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8ddbd06f-c0f7-40b3-adf5-5b700db1bb17" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>criteria_dict in [d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="5660e3d3-a2b3-43f8-9d7d-98cdedff67c0" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>res_dict[&apos;search&apos;] in criteria_dict[&apos;description&apos;]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="ec487596-86a5-4e41-9623-110d59bdc592" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>criteria_dict[&apos;status&apos;]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="contains">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                <searchString>PASSED</searchString>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>value == 1</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="Eval">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                            <statement>overall = &quot;FAIL&quot;</statement>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4012a5a0-9236-4d2a-a680-98ea705a33c4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.write(str(res_dict[&apos;supi&apos;])+&apos;,&apos;+res_dict[&apos;gnb_id&apos;]+&apos;,&apos;+overall+&apos;,N/A\\n&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="60570b4b-17cb-44cb-8853-cb5e81926a93" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.flush()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="getParameterGroupDict" isPublic="true">
            <steps>
                <item guid="1ea19ee4-12ba-4eba-91ce-e74e610010be" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>import copy</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="141732b6-50f4-4709-98e2-9156567c02a4" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>count = param(&apos;count(&apos;+param_path+&apos;/*)&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="73fdc302-42fe-4fe4-82fe-8b93ce0d1d42" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>count</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="791deffc-c457-40ac-9d4a-ae57f447908d" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>return_dict = {}</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4722377a-58a3-4a12-83fc-f85d4bc9e9c8" action="for" useFieldsInCommand="false">
                    <command>
                        <body>i in range(1, int(count)+1):</body>
                    </command>
                    <nestedSteps>
                        <item guid="5dd9ad67-bdb4-4926-aafb-ae6f12097942" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>name  = param(&apos;name(&apos;+param_path+&apos;/*[&apos;+str(i)+&apos;])&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f6b11b8c-2382-49fc-a8cb-2de4bcd7001a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>value  = param(param_path+&apos;/*[&apos;+str(i)+&apos;]&apos;)</body>
                            </command>
                            <eventHandlers>
                                <item name="OnInterpreterError">
                                    <item actionId="Eval">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                            <statement>value = [1,2]</statement>
                                        </actionProperties>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0bdc827f-307e-4c62-8c26-72574041fc8c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ba998e7f-a601-4e61-86d0-47547f723970" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>value</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fd71bdd1-0626-47f6-adf7-dbf4ec36bc25" action="if" useFieldsInCommand="false">
                            <command>
                                <body>name == &apos;item&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="97510845-65d5-46e7-b7ba-c1bf687309ad" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tlist = []</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="80e213a2-1b71-4959-9e3e-18ff27a76059" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>j in range(1, int(count)+1):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="96b77f63-e15a-4706-af43-f07f8b23717b" action="call" useFieldsInCommand="false">
                                            <command>
                                                <body>getParameterGroupDict(param_path=param_path + &apos;/item[&apos; + str(j) + &apos;]&apos;, insert_parent=&apos;false&apos;)</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>ret_dict</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="47eb2059-abbe-4376-9238-b4b20bab0e32" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tlist.append(copy.deepcopy(ret_dict))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d97aa5a5-c608-429d-93a9-0ca41519e6e3" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict = tlist</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d6a90282-359a-45eb-a105-5ef1ef3a794a" action="break" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="741397b7-ddd6-4cb5-8931-dfd795bb52e0" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>type(value) == list and name != &apos;array&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8b98193e-16ed-4372-90cd-fb4f2310e4d4" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>getParameterGroupDict(param_path=param_path+&apos;/&apos;+name, insert_parent=&apos;false&apos;)</body>
                                    </command>
                                    <postProcessing>
                                        <storeResponseAt>ret_dict</storeResponseAt>
                                        <storeResponseText>true</storeResponseText>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3a3c43ab-89e4-47f2-9c31-28f68a8cd739" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict[name] = ret_dict</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4c6c251b-ba1d-4468-a926-8350b9dddaba" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="2d5df271-9df7-4525-91c7-cec04bf503c5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>return_dict[name] = str(value)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="734a3f5a-a866-4a34-8636-565d11af83c7" action="if" useFieldsInCommand="false">
                    <command>
                        <body>insert_parent == &apos;true&apos;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="7dbce0ce-2bfc-4d13-8a65-7882a337f742" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>rett = {param_path.split(&apos;/&apos;)[-1]: return_dict}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="10933ae7-8b7a-4f84-a25c-bcb033b4c558" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="54468e36-9abb-4515-a641-9f112062373f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>rett = return_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="200672ee-8e88-4ebd-964a-f26aa205f239" action="return">
                    <command>
                        <body>[rett]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="param_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="insert_parent">
                    <description>true|false, only used for childen of lists</description>
                    <defaultValue>true</defaultValue>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>
